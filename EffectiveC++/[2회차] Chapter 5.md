# Chapter 4. Implementations

클래스의 적절한 정의, 함수의 적절한 선언은 가장 중요한 요소다.

그것만 잘하면 나머지 구현은 쉽다.

다만 그래도 주의할 점들이 많다.

앞으로 알아보자.





## Item 26: 변수 정의를 가능한 한 뒤로 연기하라.

생성자나 소멸자가 있는 타입의 변수를 정의하게 되면, 변수를 정의할 때 생성 비용이 들게 되고, 변수가 scope 밖으로 벗어나면 소멸 비용이 든다.

쓰이지 않는 변수들에 대해서도 비용이 발생하므로 가능한 한 언제든 정의를 피하라.



너가 쓰이지 않는 변수를 정의하지 않는다고 생각하겠지만,

다음과 같은 예시를 생각해보라.

string encrypted를 정의한 후에 패스워드가 너무 짧아서 throw를 하게 되면 변수를 쓰지 않는 상황이 발생한다.

throw를 하게 되면 생성자와 소멸자에 대한 비용을 지불하게 된다.



따라서 필요할 때까지 encrypted의 정의를 연기하는 것이 좋다.

```cpp
	throw logic_error;
string encrypted;

return encrypted;
```

하지만 이것으로도 불충분하다.

encrypted는 argument 초기화 없이 정의되었기 때문이다.

item4에서 설명했듯이 지금 코드는 디폴트 생성자를 부르고 그 후에 값을 할당하는 것은 비효율적이다.





