# Chapter6 ROS 도구

## RViz(ROS Visualization Tool)

3D 시각화 툴. 센서 데이터의 시각화.



URDF로 기술해놓으면 RViz로 시각화할 수 있다.

- 네비게이션 -> 맵을 띄워줄 수 있다.
- 매니퓰레이션 -> 특정 목적지로 이동시킬 수 있다.



#### 예제

1. 이미지에서 거리가 얼마나 먼지, 즉 depth 정보를 이미지에 투영시켜서 볼 수 있다.
2. 2차 평면의 거리 데이터를 보여줌
3. 초음파 센서 - 방사형태로 나가게 되는데 범위로. 레이저 센서에 비해 해상도가 떨어짐.
4. IM Unit - 관성 데이터. 드론의 현재 자세, balance를 취득하기 위함.
5. Intel real sensor - 적외선 카메라 + IR. 영상, IR, Depth를 모두 확인할 수 있음.
6. Kinet - 관절을 받아와서 어디를 포인트(가리키고) 있는지 알아낼 수 있다. 거기로 이동시키라는 명령을 수행할 수도 있는 것. 2차원 프로세싱 끝난 후의 결과물도 가능한 것이다.
7. 재난구조로봇에도 사용 가능(DARPA Robotics Challenge)



### 실행

한 터미널에 `roscore`

다른 터미널에서 `rviz`



Rviz를 이용하면 센서 및 로봇 관련 **데이터 시각화**가 매우 간단!





## RQT: GUI 툴

플러그인 방식의 ROS 종합 GUI 툴

한줄 설치로 다 설치됐을 것.



플러그인을 골라서 실행시키는 방법. 플러그인들을 받아서 추가해주면 된다.



액션, 구성, 내성, 로깅, 다양한 툴, 로봇 툴, 서비스, 토픽, 시각화 등 기능이 있음



### 예시

- 병진 속도, 회전 속도를 슬라이드 바로 주고 싶다.
- 로고 랩 - 디버깅 툴
- Plot - 시간을 축으로 한 데이터 값. 인기 많은 툴.





### rqt_bag

이미지 raw 데이터(영상)을 저장할 수도 있음



### 정리

RQT를 이용하면

1. GUI 형태로 ROS 이용 가능
2. GUI Tool 제작이 간단!





## Gazebo: 3D Simulator

모바일 로봇, 매니퓰레이터할 때 자세히 다룰 것.

3차원 시뮬레이션을 위한 로봇, 센서, 환경 모델 지원.

물리엔진 탑재한 3차원 시뮬레이터.

여러 물리엔진 중 골라서 쓸 수 있다.



- 최근 나온 오픈 진영 시뮬레이터 중 가장 좋은 평가. DRC의 공식 시뮬레이터

  Open Robotics라는 곳에서 개발을 하고 있다. ROS와의 호환성도 매우 좋다.

  OGRE를 쓰고 있어서 게임과 같은 그래픽을 보여줌.



- 가상의 공간에서도 센서 플러그인을 장착하고 보면 센서값을 받아서 볼 수 있다.

  센서 노이즈도 설정 가능(가우시안 필터)

- 로봇 모델, TCP/IP transport, Cloud Simulation도 가능





### 정리

**시뮬레이션**이 필요하다면 ROS와 연동이 쉬운 Gazebo 이용!





## 이기종 디바이스 간의 통신

Chapter4에 정리

































































































