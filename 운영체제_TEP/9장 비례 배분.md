# 9. 스케줄링: 비례 배분

핵심 질문 : 어떻게 CPU를 정해진 비율로 배분할 수 있는가



## 9.1 개본 개념: 추첨권이 당신의 몫을 나타낸다.

추첨권은 프로세스가 받아야 할 자원의 몫을 나타내는 데 사용된다.

천체 추첨권을 프로세스들에게 할당하고,

가지고 있는 추첨권의 개수에 가중치를 부여하여 무작위로 추첨한다.(타임 슬라이스가 끝날 때마다)



## 9.2 추첨 기법

1. 추첨권 화폐 - 자신의 화폐 가치로 추첨권을 재할당
2. 추첨권 양도 - 다른 프로세스에게 추첨권을 넘김
3. 추첨권 팽창 - 프로세스가 일시적으로 자신이 소유한 추첨권 수를 늘리거나 줄임.



## 9.3 구현

추첨 스케줄링의 가장 큰 장점은 구현이 단순하다는 점

필요한 것: 난수 발생기, 프로세스 집합 자료구조(리즈슽), 추첨권의 전체 개수



## 9.4 예제

불공정 지표(unfairness metric) U

두 작업이 거의 동시에 종료할수록 U = 1에 가까워짐(공정해짐)



## 9.5 추첨권 배분 방식

작업들에게 추첨권을 몇 개씩 배분해야 하는가? -> 그 방식은 아직 미해결된 상태



## 9.6 왜 결정론적(Deterministic) 방법을 사용하지 않는가

대표적으로 보폭 스케줄링(stride scheduling)이 있다.

하지만 추첨 스케줄링은 보폭 스케줄링에 비해 장점이 있음 -> **상태 정보가 필요 없다.** 새로운 프로세스가 추가될 때 프로세스가 가진 추첨권의 개수, 전체 추첨권의 개수만 갱신하고 스케줄하면 된다.